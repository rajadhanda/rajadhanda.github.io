<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projects – Raja Dhanda</title>
  <meta name="description" content="Projects and experiments by Raja Dhanda - iOS apps, ML-driven tools, and more.">
  
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://rajadhanda.me/projects/">
  <meta property="og:title" content="Projects – Raja Dhanda">
  <meta property="og:description" content="Projects and experiments by Raja Dhanda - iOS apps, ML-driven tools, and more.">
  
  <!-- Favicons -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicons/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/favicons/apple-touch-icon.png">
  
  <!-- Theme Script (inline to prevent FOUC) -->
  <style id="theme-init">.theme-loading,.theme-loading *{transition:none!important}</style>
  <script>
    (function(){
      document.documentElement.classList.add('theme-loading');
      const savedTheme = localStorage.getItem('theme') || 'light';
      if (savedTheme === 'midnight') {
        document.documentElement.setAttribute('data-theme', 'midnight');
      }
      // Set background immediately to prevent any flash
      document.documentElement.style.backgroundColor = savedTheme === 'midnight' ? '#0a0e27' : '#FFF8F0';
      // Remove loading class after first paint
      requestAnimationFrame(function(){
        requestAnimationFrame(function(){
          document.documentElement.classList.remove('theme-loading');
          document.documentElement.style.backgroundColor = '';
        });
      });
    })();
  </script>
  
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" referrerpolicy="no-referrer"/>
  <style>
    :root{ 
      --bg:#FFF8F0; --fg:#1a1a1a; --fg-light:#404040; --muted:#686868;
      --accent:#2a2a2a; --accent-soft:#f8f8f8;
      --border:#e8e8e8; --border-hover:#d4d4d4;
      --ease:cubic-bezier(.16,1,.3,1); --shadow-soft:0 2px 20px rgba(0,0,0,.06);
      --shadow-medium:0 8px 30px rgba(0,0,0,.12);
    }
    
    /* Midnight Mode */
    [data-theme="midnight"]{
      --bg:#0a0e27; --fg:#e8ecf4; --fg-light:#b8c5d9; --muted:#7a8ca8;
      --accent:#a8b8d9; --accent-soft:#141b33;
      --border:#1a2340; --border-hover:#243155;
      --shadow-soft:0 2px 20px rgba(0,0,0,.3);
      --shadow-medium:0 8px 30px rgba(0,0,0,.5);
    }
    
    /* Smooth theme transition */
    body{
      transition:background-color 0.5s var(--ease), color 0.5s var(--ease);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; background:var(--bg); color:var(--fg); font-family: 'Crimson Text', serif; display:grid; grid-template-rows:1fr auto; line-height:1.6; overflow-x:hidden;}
    
    /* Navigation */
    .nav-back{
      position:fixed; top:28px; left:28px; width:52px; height:52px; border-radius:50%;
      border:1px solid var(--border); display:grid; place-items:center;
      background:rgba(255,255,255,.9); backdrop-filter:blur(12px);
      cursor:pointer; transition:all .3s var(--ease); z-index:1001; box-shadow:var(--shadow-soft);
      text-decoration:none; color:var(--fg);
    }
    .nav-back:hover{transform:scale(1.05) translateY(-1px); border-color:var(--border-hover); box-shadow:var(--shadow-medium)}
    .nav-back i{font-size:18px; transition:transform .4s var(--ease-back), opacity .3s var(--ease);}
    .nav-back:hover i{transform:rotate(15deg)}
    [data-theme="midnight"] .nav-back{
      background:rgba(26,30,47,.92);
    }
    
    /* Theme Toggle Button */
    .theme-toggle{
      position:fixed; top:28px; right:28px; width:52px; height:52px; border-radius:50%;
      border:1px solid var(--border); display:grid; place-items:center;
      background:rgba(255,255,255,.9); backdrop-filter:blur(12px);
      cursor:pointer; transition:all .3s var(--ease); z-index:1001; box-shadow:var(--shadow-soft);
    }
    [data-theme="midnight"] .theme-toggle{
      background:rgba(26,30,47,.92);
    }
    .theme-toggle:hover{
      transform:scale(1.05) translateY(-1px); border-color:var(--border-hover); box-shadow:var(--shadow-medium);
    }
    .theme-toggle i{
      font-size:18px; color:var(--fg); transition:transform .4s var(--ease-back), opacity .3s var(--ease);
    }
    .theme-toggle:hover i{
      transform:rotate(15deg);
    }
    .theme-toggle .fa-moon{opacity:1}
    .theme-toggle .fa-sun{opacity:0; position:absolute}
    [data-theme="midnight"] .theme-toggle .fa-moon{opacity:0}
    [data-theme="midnight"] .theme-toggle .fa-sun{opacity:1}
    @media (max-width:768px){
      .nav-back{top:28px; left:20px; width:46px; height:46px}
      .theme-toggle{top:28px; right:20px; width:46px; height:46px}
    }
    @media (max-width:480px){
      .nav-back{top:28px; left:16px; width:42px; height:42px}
      .theme-toggle{top:28px; right:16px; width:42px; height:42px}
    }
    
    /* Global button press animations */
    button, .nav-back{
      transition:transform 0.15s var(--ease), box-shadow 0.15s var(--ease);
    }
    button:active, .nav-back:active{
      transform:scale(0.97) translateY(1px);
    }
    @media (prefers-reduced-motion: reduce){
      button:active, .nav-back:active{transform:none}
    }

    /* Floating Elements */
    .floating-element{
      position:absolute; pointer-events:none; opacity:.08; color:var(--muted);
      font-size:14px; animation:float 15s ease-in-out infinite; z-index:1;
    }
    .floating-element:nth-child(1){top:15%; right:20%; animation-delay:-5s}
    .floating-element:nth-child(2){bottom:25%; left:15%; animation-delay:-10s; animation-duration:20s}
    .floating-element:nth-child(3){top:70%; right:30%; animation-delay:-15s; animation-duration:25s}

    @keyframes float{
      0%,100%{transform:translateY(0) rotate(0)}
      33%{transform:translateY(-15px) rotate(2deg)}
      66%{transform:translateY(8px) rotate(-1deg)}
    }

    main{max-width:1200px; width:100%; margin:0 auto; padding:48px 20px 20px;}
    h1{font-weight:400; font-size:clamp(1.5rem,4vw,2.5rem); margin:0 0 8px; letter-spacing:-.01em; padding-top:80px;}
    .subtitle{color:var(--muted); font-style:italic; margin-bottom:60px; font-size:1.1rem;}
    p{color:var(--muted)}
    a{color:inherit}
    footer{padding:24px; text-align:center; color:var(--muted); font-size:.7rem; margin-top:40px;}

    /* Projects */
    .projects-grid{display:grid; grid-template-columns:repeat(3, 1fr); gap:20px; margin-top:20px}
    .project-card{
      border:1px solid var(--border); border-radius:14px; padding:18px; background:rgba(255,255,255,.75);
      box-shadow:var(--shadow-soft); transition:transform .18s var(--ease), box-shadow .18s var(--ease), border-color .18s var(--ease);
      position:relative; overflow:hidden;
      display:flex; flex-direction:column
    }
    [data-theme="midnight"] .project-card{background:rgba(10,14,39,.6)}
    .project-card:hover{transform:translateY(-2px); box-shadow:var(--shadow-medium); border-color:var(--border-hover)}
    .project-title{margin:0 0 6px; font-weight:600; font-size:1.1rem}
    .project-meta{display:flex; gap:10px; align-items:center; color:var(--muted); font-size:.9rem; margin-bottom:8px}
    .project-desc{margin:0 0 14px; color:var(--muted)}
    .project-actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:auto}
    .btn{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:10px; border:1px solid var(--border); background:transparent; cursor:pointer; text-decoration:none; color:inherit}
    .btn:hover{border-color:var(--border-hover)}
    .btn.primary{background:var(--fg); color:var(--bg); border-color:transparent}
    .btn[aria-disabled="true"], .btn.disabled{opacity:.6; cursor:not-allowed}
    @media (max-width:1024px){.projects-grid{grid-template-columns:repeat(2, 1fr)}}
    @media (max-width:640px){.projects-grid{grid-template-columns:1fr}}

    /* Responsive */
    /* Responsive adjustments for smaller windows */
    @media (max-width:1024px){
      main{padding:80px 20px 20px}
      h1{padding-top:70px}
    }
    
    @media (max-width:768px){
      .nav-back{top:28px; left:20px; width:46px; height:46px}
      .theme-toggle{top:28px; right:20px; width:46px; height:46px}
      main{padding:80px 20px 20px}
      h1{font-size:clamp(1.4rem,5vw,2rem); padding-top:66px}
    }
    @media (max-width:560px){
      main{padding:72px 20px 20px}
      h1{font-size:clamp(1.3rem,5vw,1.8rem); padding-top:66px}
      .subtitle{font-size:1rem; margin-bottom:40px}
    }
    @media (max-width:480px){
      .nav-back{top:28px; left:16px; width:42px; height:42px}
      .theme-toggle{top:28px; right:16px; width:42px; height:42px}
      main{padding:68px 16px 20px}
      h1{font-size:1.5rem; padding-top:62px}
    }
    
    /* Page Transition Overlay */
    .page-transition{
      position:fixed; inset:0; background:var(--bg);
      opacity:0; pointer-events:none; z-index:1500;
      transition:opacity 0.4s var(--ease);
    }
    .page-transition.active{
      opacity:1; pointer-events:all;
    }
    @media (prefers-reduced-motion: reduce){
      .page-transition{display:none}
    }
    
    /* Work in Progress Bar */
    .wip-bar{
      position:fixed; top:0; left:0; right:0; height:14px; z-index:2000;
      background:repeating-linear-gradient(
        -45deg,
        #f5c842,
        #f5c842 10px,
        #1a1a1a 10px,
        #1a1a1a 20px
      );
      background-size:28.28px 100%;
      animation:wip-scroll 0.5s linear infinite;
    }
    [data-theme="midnight"] .wip-bar{
      background:repeating-linear-gradient(
        -45deg,
        #d4a72c,
        #d4a72c 10px,
        #0a0e27 10px,
        #0a0e27 20px
      );
      background-size:28.28px 100%;
    }
    @keyframes wip-scroll{
      0%{background-position:0 0}
      100%{background-position:28.28px 0}
    }
    
    /* WIP Label */
    .wip-label{
      position:fixed; top:22px; left:50%; transform:translateX(-50%); z-index:2001;
      font-family:'Inter', sans-serif; font-size:11px; font-weight:400; letter-spacing:0.08em;
      text-transform:lowercase; color:var(--muted); white-space:nowrap;
      font-style:italic;
    }
    
    @media (prefers-reduced-motion: reduce){
      .wip-bar{animation:none}
    }
  </style>
</head>
<body>
  <!-- Work in Progress Bar -->
  <div class="wip-bar" aria-hidden="true"></div>
  <div class="wip-label" aria-hidden="true">work in progress...</div>
  
  <!-- Page Transition Overlay -->
  <div class="page-transition" id="pageTransition"></div>

  <!-- Theme Toggle Button -->
  <button class="theme-toggle" id="themeToggle" aria-label="Toggle midnight mode">
    <i class="fa-solid fa-moon" aria-hidden="true"></i>
    <i class="fa-solid fa-sun" aria-hidden="true"></i>
  </button>

  <!-- Navigation -->
  <a href="/" class="nav-back" aria-label="Back to home">
    <i class="fa-solid fa-house" aria-hidden="true"></i>
  </a>

  <!-- Floating Elements -->
  <div class="floating-element">✦</div>
  <div class="floating-element">◇</div>
  <div class="floating-element">◈</div>

  <main>
    <h1>Projects</h1>
    <p class="subtitle">things I've tried</p>
    <section class="projects-grid" aria-label="Projects">
      <article class="project-card">
        <h2 class="project-title">Leave Now?</h2>
        <p class="project-desc">Tells commuters exactly when to leave and what route to take, driven by ML. No navigation; just the best recommendation.</p>
        <div class="project-actions">
          <a class="btn primary" href="https://github.com/rajadhanda/leave-now-ios" target="_blank" rel="noopener noreferrer" aria-label="View Leave Now repository"><i class="fa-brands fa-github" aria-hidden="true"></i> GitHub</a>
          <a class="btn disabled" href="#" aria-disabled="true" title="Coming soon" aria-label="App Store (coming soon)"><i class="fa-brands fa-apple" aria-hidden="true"></i> App Store (soon)</a>
        </div>
      </article>
      <article class="project-card">
        <h2 class="project-title">Resurface</h2>
        <p class="project-desc">Transforms your consumed content into actionable nudges, perfectly timed for you.</p>
        <div class="project-actions">
          <a class="btn primary" href="https://github.com/rajadhanda/resurface" target="_blank" rel="noopener noreferrer" aria-label="View Resurface repository"><i class="fa-brands fa-github" aria-hidden="true"></i> GitHub</a>
        </div>
      </article>
    </section>
  </main>
  <footer>© 2025 Raja Dhanda – Crafted with care</footer>

  <script>
    // Theme Toggle
    (function(){
      const themeToggle = document.getElementById('themeToggle');
      const html = document.documentElement;
      
      if (themeToggle) {
        themeToggle.addEventListener('click', ()=>{
          const currentTheme = html.getAttribute('data-theme');
          if (currentTheme === 'midnight') {
            html.removeAttribute('data-theme');
            localStorage.setItem('theme', 'light');
          } else {
            html.setAttribute('data-theme', 'midnight');
            localStorage.setItem('theme', 'midnight');
          }
        });
      }
    })();

    // Page transition on navigation link click
    (function(){
      const pageTransition = document.getElementById('pageTransition');
      const reducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      
      // Reset page transition overlay on page load (important for back navigation)
      if (pageTransition) {
        pageTransition.classList.remove('active');
      }
      
      if (!pageTransition || reducedMotion) return;
      
      const navLinks = document.querySelectorAll('a[href^="/"], a[href^="./"], a.nav-back');
      navLinks.forEach(link => {
        link.addEventListener('click', function(e){
          const href = this.getAttribute('href');
          if (!href || href === '#' || href.startsWith('mailto:') || href.startsWith('tel:')) return;
          
          try {
            const url = new URL(href, window.location.origin);
            if (url.hostname !== window.location.hostname && url.hostname !== '') return;
          } catch(err) {}
          
          e.preventDefault();
          pageTransition.classList.add('active');
          // Use location.assign to ensure proper history entry
          setTimeout(() => { window.location.assign(href); }, 300);
        });
      });
    })();
  </script>
</body>
</html>
